{% extends "base.html" %}

{% block content %}
<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
  <ol class="carousel-indicators">
    <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"></li>
    <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"></li>
    <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"></li>
  </ol>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="../static/img/BIENVENIDA.png" width="520" alt="Imagen 1">
    </div>

    <div class="carousel-item">
      <img src="../static/img/save-planet.png" width="350" alt="Imagen 3">
    </div>

    <div class="carousel-item">
      <img src="../static/img/banner-ofertaspng.png" width="680" alt="Imagen 3">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </a>
</div>

<br>
<div class="row">
  {% for bike in bikes %}
  {% if current_user.is_authenticated %}
  {% if current_user.id != bike.idUsuario %}
  <div class="card" style="width:15rem;">
    {% if bike.tipo == 1 %}
    <img src="../static/img/mountain-bike.png" class="card-img-top" alt="...">
    {% elif bike.tipo == 2 %}
    <img src="../static/img/turism-bike.png" class="card-img-top" alt="...">
    {% elif bike.tipo == 3 %}
    <img src="../static/img/urban-bike.png" class="card-img-top" alt="...">
    {% else %}
    <img src="../static/img/bike-gogo-mini.png" class="card-img-top" alt="...">
    {% endif %}
    <div class="card-body" style="background-color:seashell;">
      <h5 class="card-title h3 text-uppercase"><b>{{bike.nombre}}</b></h5>
      <p class="card-text">{{bike.descripcion}}</p>
      <p class="card-text text-success">$ {{bike.precio}}</p>
      {% if current_user.is_authenticated %}
      <a href="{{ url_for('bikes.comprar') }}" class="btn btn-primary">Comprar</a>
      {% endif %}
      {% if not current_user.is_authenticated %}
      <a href="{{ url_for('auth.login') }}" class="btn btn-outline-primary">
        Inicia sesión para comprar
      </a>
      {% endif %}
    </div>
  </div>
  {% endif %}
  {% else %}
  <div class="card" style="width:15rem;">
    {% if bike.tipo == 1 %}
    <img src="../static/img/mountain-bike.png" class="card-img-top" alt="...">
    {% elif bike.tipo == 2 %}
    <img src="../static/img/turism-bike.png" class="card-img-top" alt="...">
    {% elif bike.tipo == 3 %}
    <img src="../static/img/urban-bike.png" class="card-img-top" alt="...">
    {% else %}
    <img src="../static/img/bike-gogo-mini.png" class="card-img-top" alt="...">
    {% endif %}
    <div class="card-body" style="background-color:seashell;">
      <h5 class="card-title h3 text-uppercase"><b>{{bike.nombre}}</b></h5>
      <p class="card-text">{{bike.descripcion}}</p>
      <p class="card-text text-success">$ {{bike.precio}}</p>
      {% if current_user.is_authenticated %}
      <a href="{{ url_for('bikes.comprar') }}" class="btn btn-primary">Comprar</a>
      {% endif %}
      {% if not current_user.is_authenticated %}
      <a href="{{ url_for('auth.login') }}" class="btn btn-outline-primary">
        Inicia sesión para comprar
      </a>
      {% endif %}
    </div>
  </div>
  {% endif %}
  {%endfor%}
</div>
{% endblock %}